{"version":3,"sources":["assets/images/ENLToken.png","constants.js","helpers.js","routes.js","connectors.js","assets/images/ENL-brand-logo.png","App/layout/AdminLayout/index.js","hooks.js"],"names":["chainIdToName","1","3","4","5","42","128","256","ethDummyAddress","htDummyAddress","BigNumber","require","eX","value","x","convertToLargeNumberRepresentation","toString","zeroStringIfNullish","dp","Number","toFixed","window","jQuery","$","global","routes","path","exact","name","component","React","lazy","injected","InjectedConnector","supportedChainIds","config","EXPONENTIAL_AT","Compound","AdminLayout","globalState","useContext","store","state","triedEager","useWeb3React","activate","active","useState","tried","setTried","useEffect","isAuthorized","then","undefined","catch","useEagerConnect","account","library","deactivate","enlEarned","setENLEarned","enlBalance","setENLBalance","otherSnackbarOpen","setOtherSnackbarOpen","otherSnackbarMessage","setOtherSnackbarMessage","ConnectButton","Dropdown","Toggle","variant","getShortenAddress","Menu","Item","onClick","Button","address","firstCharacters","substring","lastCharacters","length","ENLButton","alignRight","className","style","width","margin","src","ENLlogo","alt","decimalPlaces","cursor","padding","color","claimENL","suppress","error","ethereum","on","handleConnect","console","log","handleChainChanged","chainId","handleAccountsChanged","accounts","handleNetworkChanged","networkId","removeListener","useInactiveListener","a","getENLEarned","getENLBalance","walletAddress","eth","read","process","network","parseInt","provider","_compoundProvider","balance","walletBalance","compBalanceMetadata","gasPrice","parameters","options","gasLimit","trx","constant","inputs","internalType","type","outputs","payable","stateMutability","signature","tx","JSON","stringify","hash","OtherSnackbar","props","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","onClose","message","action","menu","map","route","index","Route","render","Row","background","boxShadow","Col","xs","xl","Navbar","bg","expand","Link","to","Brand","ENLbrandLogo","height","paddingLeft","aria-controls","Collapse","id","Nav","href","target","rel","textAlign","fontSize","event","reason"],"mappings":"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","file":"static/js/9.6015d270.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/ENLToken.c703265e.png\";","export const chainIdToName = {\n  1: \"mainnet\",\n  3: \"ropsten\",\n  4: \"rinkeby\",\n  5: \"goerli\",\n  42: \"kovan\",\n  128: \"hecomain\",\n  256: \"hecotest\",\n};\n\nexport const ethDummyAddress = \"0xETH\";\nexport const htDummyAddress = \"0xHT\";\n","const BigNumber = require(\"bignumber.js\");\n\n// eX(2, 3) = 2e3 = 2000\n// eX(2, -3) = 2e-3 = 0.002\nexport const eX = (value, x) => {\n  return new BigNumber(`${value}e${x}`);\n};\n\nexport const convertToLargeNumberRepresentation = (value) => {\n  if (!value) {\n    return \"0\";\n  } else if (+value >= 1e5) {\n    return `${eX(value.toString(), -6)}M`;\n  } else if (+value >= 1e2) {\n    return `${eX(value.toString(), -3)}K`;\n  } else {\n    return value.toString();\n  }\n};\n\n// This function is not used, because it can be replaced by new BigNumber().decimalPlaces()\nexport const roundToDecimalPlaces = (value, n) => {\n  const factor = Math.pow(10, n);\n  return Math.round((+value + Number.EPSILON) * factor) / factor;\n};\n\nexport const emptyStringIfNullish = (value) => {\n  if (value && value !== \"NaN\") {\n    return value;\n  } else {\n    return \"\";\n  }\n};\n\nexport const zeroStringIfNullish = (value, dp) => {\n  if (value && value !== \"NaN\") {\n    return value;\n  } else {\n    return Number(0).toFixed(dp);\n  }\n};\n","import React from 'react';\r\nimport $ from 'jquery';\r\n\r\nwindow.jQuery = $;\r\nwindow.$ = $;\r\nglobal.jQuery = $;\r\n\r\nconst Market = React.lazy(() => import('./components/Market'));\r\n\r\nconst DashboardDefault = React.lazy(() => import('./Demo/Dashboard/Default'));\r\n\r\nconst UIBasicButton = React.lazy(() => import('./Demo/UIElements/Basic/Button'));\r\nconst UIBasicBadges = React.lazy(() => import('./Demo/UIElements/Basic/Badges'));\r\nconst UIBasicBreadcrumbPagination = React.lazy(() => import('./Demo/UIElements/Basic/BreadcrumbPagination'));\r\n\r\nconst UIBasicCollapse = React.lazy(() => import('./Demo/UIElements/Basic/Collapse'));\r\nconst UIBasicTabsPills = React.lazy(() => import('./Demo/UIElements/Basic/TabsPills'));\r\nconst UIBasicBasicTypography = React.lazy(() => import('./Demo/UIElements/Basic/Typography'));\r\n\r\nconst FormsElements = React.lazy(() => import('./Demo/Forms/FormsElements'));\r\n\r\nconst BootstrapTable = React.lazy(() => import('./Demo/Tables/BootstrapTable'));\r\n\r\nconst Nvd3Chart = React.lazy(() => import('./Demo/Charts/Nvd3Chart/index'));\r\n\r\nconst GoogleMap = React.lazy(() => import('./Demo/Maps/GoogleMap/index'));\r\n\r\nconst OtherSamplePage = React.lazy(() => import('./Demo/Other/SamplePage'));\r\nconst OtherDocs = React.lazy(() => import('./Demo/Other/Docs'));\r\n\r\nconst routes = [\r\n    { path: '/', exact: true, name: 'Root', component: Market },\r\n    { path: '/dashboard/default', exact: true, name: 'Default', component: DashboardDefault },\r\n    { path: '/basic/button', exact: true, name: 'Basic Button', component: UIBasicButton },\r\n    { path: '/basic/badges', exact: true, name: 'Basic Badges', component: UIBasicBadges },\r\n    { path: '/basic/breadcrumb-paging', exact: true, name: 'Basic Breadcrumb Pagination', component: UIBasicBreadcrumbPagination },\r\n    { path: '/basic/collapse', exact: true, name: 'Basic Collapse', component: UIBasicCollapse },\r\n    { path: '/basic/tabs-pills', exact: true, name: 'Basic Tabs & Pills', component: UIBasicTabsPills },\r\n    { path: '/basic/typography', exact: true, name: 'Basic Typography', component: UIBasicBasicTypography },\r\n    { path: '/forms/form-basic', exact: true, name: 'Forms Elements', component: FormsElements },\r\n    { path: '/tables/bootstrap', exact: true, name: 'Bootstrap Table', component: BootstrapTable },\r\n    { path: '/charts/nvd3', exact: true, name: 'Nvd3 Chart', component: Nvd3Chart },\r\n    { path: '/maps/google-map', exact: true, name: 'Google Map', component: GoogleMap },\r\n    { path: '/sample-page', exact: true, name: 'Sample Page', component: OtherSamplePage },\r\n    { path: '/docs', exact: true, name: 'Documentation', component: OtherDocs },\r\n];\r\n\r\nexport default routes;","import { InjectedConnector } from \"@web3-react/injected-connector\";\n\nexport const injected = new InjectedConnector({\n  supportedChainIds: [1, 3, 4, 5, 42, 128, 256],\n});\n","export default __webpack_public_path__ + \"static/media/ENL-brand-logo.c7e8ecc8.png\";","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { Route, Link } from \"react-router-dom\";\r\n\r\nimport routes from \"../../../routes\";\r\nimport Aux from \"../../../hoc/_Aux\";\r\nimport { Row, Col, Navbar, Nav, Button, Dropdown } from \"react-bootstrap\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport { store } from \"../../../store\";\r\n\r\nimport \"./app.scss\";\r\n\r\nimport { injected } from \"../../../connectors\";\r\nimport { useEagerConnect, useInactiveListener } from \"../../../hooks\";\r\nimport { useWeb3React } from \"@web3-react/core\";\r\n\r\nimport { chainIdToName } from \"../../../constants\";\r\nimport { zeroStringIfNullish, eX } from \"../../../helpers\";\r\n\r\nimport ENLlogo from \"../../../assets/images/ENLToken.png\";\r\nimport ENLbrandLogo from \"../../../assets/images/ENL-brand-logo.png\";\r\n\r\nconst BigNumber = require(\"bignumber.js\");\r\nBigNumber.config({ EXPONENTIAL_AT: 1e9 });\r\n\r\nconst Compound = require(\"@einance/lending-sdk/dist/nodejs/index.js\");\r\n// const compoundConstants = require(\"@einance/lending-sdk/dist/nodejs/src/constants.js\");\r\n\r\nfunction AdminLayout() {\r\n  const { state: globalState } = useContext(store);\r\n  const triedEager = useEagerConnect();\r\n  const { account, library, activate, deactivate, active } = useWeb3React();\r\n  const [enlEarned, setENLEarned] = useState(\"\");\r\n  const [enlBalance, setENLBalance] = useState(\"\");\r\n  const [otherSnackbarOpen, setOtherSnackbarOpen] = useState(false);\r\n  const [otherSnackbarMessage, setOtherSnackbarMessage] = useState(\"\");\r\n  const gasLimitClaim = \"1182020\";\r\n\r\n  useInactiveListener(!triedEager);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      setENLEarned(await getENLEarned(account));\r\n      setENLBalance(await getENLBalance(account));\r\n    })();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [library, account]);\r\n\r\n  function ConnectButton() {\r\n    const onConnectClick = () => {\r\n      activate(injected);\r\n    };\r\n\r\n    return (\r\n      <div>\r\n        {active ? (\r\n          <Dropdown>\r\n            <Dropdown.Toggle variant=\"outline-secondary\">{getShortenAddress(account)}</Dropdown.Toggle>\r\n            <Dropdown.Menu>\r\n              <Dropdown.Item onClick={() => deactivate()}>Disconnect</Dropdown.Item>\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n        ) : (\r\n          <Button onClick={onConnectClick} variant=\"outline-secondary\">\r\n            连接Connect\r\n          </Button>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  function getShortenAddress(address) {\r\n    const firstCharacters = address.substring(0, 6);\r\n    const lastCharacters = address.substring(address.length - 4, address.length);\r\n    return `${firstCharacters}...${lastCharacters}`;\r\n  }\r\n\r\n  function ENLButton() {\r\n    return (\r\n      <Dropdown alignRight>\r\n        <Dropdown.Toggle variant=\"outline-secondary\">\r\n          <img className=\"rounded-circle\" style={{ width: \"16px\", margin: \"0px 10px 3px 0px\" }} src={ENLlogo} alt=\"\" />\r\n          {`${new BigNumber(zeroStringIfNullish(enlBalance)).decimalPlaces(4).toString()}`}\r\n        </Dropdown.Toggle>\r\n        <Dropdown.Menu>\r\n          <Dropdown.Item style={{ cursor: \"default\", padding: \"20px 20px 20px 20px\" }}>\r\n            <span>\r\n              <span style={{ color: \"grey\", margin: \"0px 10px 0px 0px\" }}>余额ENL Balance</span>\r\n              {`${new BigNumber(zeroStringIfNullish(enlBalance)).decimalPlaces(4).toString()}`}\r\n            </span>\r\n          </Dropdown.Item>\r\n          <Dropdown.Item style={{ cursor: \"default\", padding: \"12px 20px 12px 20px\" }}>\r\n            <span>\r\n              <span style={{ color: \"grey\", margin: \"0px 10px 0px 0px\" }}>已赚ENL Earned</span>\r\n              {`${new BigNumber(zeroStringIfNullish(enlEarned)).decimalPlaces(4).toString()}`}\r\n            </span>\r\n            <Button\r\n              style={{ margin: \"0px 0px 0px 60px\" }}\r\n              onClick={() => {\r\n                claimENL(account);\r\n              }}\r\n            >\r\n              收获Collect\r\n            </Button>\r\n          </Dropdown.Item>\r\n        </Dropdown.Menu>\r\n      </Dropdown>\r\n    );\r\n  }\r\n\r\n  const getENLBalance = async (walletAddress) => {\r\n    if (library) {\r\n      const balance = await Compound.eth.read(\r\n        process.env.REACT_APP_ENL_ADDRESS,\r\n        \"function balanceOf(address) returns (uint)\",\r\n        [walletAddress], // [optional] parameters\r\n        {\r\n          network: chainIdToName[parseInt(library.provider.chainId)],\r\n          _compoundProvider: library,\r\n        } // [optional] call options, provider, network, ethers.js \"overrides\"\r\n      );\r\n\r\n      const walletBalance = eX(balance.toString(), -18).toString();\r\n\r\n      console.log(\"==== wallet %s balance %s\", walletAddress, walletBalance);\r\n\r\n      return walletBalance;\r\n    }\r\n  };\r\n\r\n  const getENLEarned = async (walletAddress) => {\r\n    if (library) {\r\n      console.log(\"==== using compound lens\", process.env.REACT_APP_COMPOUND_LENS_ADDRESS);\r\n\r\n      const compBalanceMetadata = await Compound.eth.read(\r\n        process.env.REACT_APP_COMPOUND_LENS_ADDRESS,\r\n        \"function getCompBalanceMetadataExt(address, address, address) returns (uint, uint, address, uint)\",\r\n        [process.env.REACT_APP_ENL_ADDRESS, process.env.REACT_APP_COMPTROLLER_ADDRESS, walletAddress], // [optional] parameters\r\n        {\r\n          network: chainIdToName[parseInt(library.provider.chainId)],\r\n          _compoundProvider: library,\r\n        } // [optional] call options, provider, network, ethers.js \"overrides\"\r\n      );\r\n\r\n      return eX(compBalanceMetadata[3].toString(), -18).toString();\r\n    }\r\n  };\r\n\r\n  const claimENL = async (walletAddress) => {\r\n    console.log(\"globalState.gasPrice.toString()\", globalState.gasPrice.toString());\r\n    let parameters = [walletAddress];\r\n    let options = {\r\n      network: chainIdToName[parseInt(library.provider.chainId)],\r\n      provider: library.provider,\r\n      gasLimit: gasLimitClaim,\r\n      gasPrice: globalState.gasPrice.toString(),\r\n      // abi: compoundConstants.abi.Comptroller,\r\n    };\r\n\r\n    try {\r\n      const tx = await Compound.eth.trx(\r\n        process.env.REACT_APP_COMPTROLLER_ADDRESS,\r\n        {\r\n          constant: false,\r\n          inputs: [{ internalType: \"address\", name: \"holder\", type: \"address\" }],\r\n          name: \"claimComp\",\r\n          outputs: [],\r\n          payable: false,\r\n          stateMutability: \"nonpayable\",\r\n          type: \"function\",\r\n          signature: \"0xe9af0292\",\r\n        },\r\n        parameters, // [optional] parameters\r\n        options // [optional] call options, provider, network, ethers.js \"overrides\"\r\n      );\r\n      console.log(\"tx\", JSON.stringify(tx));\r\n      setOtherSnackbarMessage(`Transaction sent: ${tx.hash}`);\r\n    } catch (e) {\r\n      console.log(\"tx error:\", e);\r\n      setOtherSnackbarMessage(\"Error occurred!\");\r\n    }\r\n\r\n    setOtherSnackbarOpen(true);\r\n  };\r\n\r\n  const OtherSnackbar = (props) => {\r\n    return (\r\n      <Snackbar\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"center\",\r\n        }}\r\n        open={props.open}\r\n        autoHideDuration={5000}\r\n        onClose={props.onClose}\r\n        message={props.message}\r\n        action={null}\r\n      />\r\n    );\r\n  };\r\n\r\n  const menu = routes.map((route, index) => {\r\n    return route.component ? <Route key={index} path={route.path} exact={route.exact} name={route.name} render={(props) => <route.component {...props} />} /> : null;\r\n  });\r\n\r\n  return (\r\n    <Aux>\r\n      <Row\r\n        className=\"justify-content-md-center\"\r\n        style={{\r\n          background: \"white\",\r\n          margin: \"0px 0px 20px 0px\",\r\n          boxShadow: \"0px 2px 5px 2px #eee\",\r\n        }}\r\n      >\r\n        <Col xs={12} xl={11}>\r\n          <Navbar bg=\"transparent\" expand=\"lg\">\r\n            <Link to=\"/\">\r\n              <Navbar.Brand style={{ background: \"transparent\" }}>\r\n                <img alt=\"\" src={ENLbrandLogo} width=\"30\" height=\"30\" className=\"d-inline-block align-top\" />\r\n                <span\r\n                  style={{\r\n                    paddingLeft: \"8px\",\r\n                  }}\r\n                >\r\n                  Einance Lending 易安借贷\r\n                </span>\r\n              </Navbar.Brand>\r\n            </Link>\r\n            <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n            <Navbar.Collapse id=\"basic-navbar-nav\">\r\n              <Nav className=\"mr-auto\"></Nav>\r\n              <Nav className=\"mr-true\">\r\n                {/* <Nav.Link href=\"https://rewards.einance.com\">\r\n                  Rewards\r\n                </Nav.Link> */}\r\n                <Nav.Link href={process.env.REACT_APP_EINANCE_SWAP} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                  交易 Swap\r\n                </Nav.Link>\r\n                <Nav.Link href=\"https://doc.einance.com\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n                  文档Doc\r\n                </Nav.Link>\r\n                <Nav.Link href=\"https://github.com/Einance\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n                  代码GitHub\r\n                </Nav.Link>\r\n                <Nav.Link href=\"https://twitter.com/einance_com\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n                  推特 Twitter\r\n                </Nav.Link>\r\n                <Nav.Link href=\"https://medium.com/@einance\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n                  博客Medium\r\n                </Nav.Link>\r\n                <Nav.Link href=\"https://docs.einance.com/jia-ru-wei-xin-she-qun\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n                  中国社区 Wechat\r\n                </Nav.Link>\r\n                <Nav.Link href=\"https://discord.gg/bgsvFs9X3u\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n                  全球社区Discord\r\n                </Nav.Link>\r\n              </Nav>\r\n              <Nav style={{ margin: \"0px 40px 0px 0px\" }}></Nav>\r\n              <ENLButton />\r\n              <ConnectButton />\r\n            </Navbar.Collapse>\r\n          </Navbar>\r\n        </Col>\r\n      </Row>\r\n      <Row className=\"justify-content-sm-center\" style={{ margin: \"0px 3px 100px 3px\", height: \"10px\" }}>\r\n        <Col xs={12} xl={11}>\r\n          <div style={{ textAlign: \"center\", color: \"red\", fontSize: \"1.5rem\" }}></div>\r\n        </Col>\r\n      </Row>\r\n      <Row className=\"justify-content-md-center\" style={{ margin: \"0px 3px 100px 3px\" }}>\r\n        <Col xs={12} xl={11}>\r\n          {menu}\r\n        </Col>\r\n      </Row>\r\n      <OtherSnackbar\r\n        open={otherSnackbarOpen}\r\n        message={otherSnackbarMessage}\r\n        onClose={(event, reason) => {\r\n          if (reason === \"clickaway\") {\r\n            return;\r\n          }\r\n          setOtherSnackbarOpen(false);\r\n        }}\r\n      />\r\n    </Aux>\r\n  );\r\n}\r\n\r\nexport default AdminLayout;\r\n","import { useState, useEffect } from \"react\";\nimport { useWeb3React } from \"@web3-react/core\";\n\nimport { injected } from \"./connectors\";\n\nexport function useEagerConnect() {\n  const { activate, active } = useWeb3React();\n\n  const [tried, setTried] = useState(false);\n\n  useEffect(() => {\n    injected.isAuthorized().then((isAuthorized) => {\n      if (isAuthorized) {\n        activate(injected, undefined, true).catch(() => {\n          setTried(true);\n        });\n      } else {\n        setTried(true);\n      }\n    });\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []); // intentionally only running on mount (make sure it's only mounted once :))\n\n  // if the connection worked, wait until we get confirmation of that to flip the flag\n  useEffect(() => {\n    if (!tried && active) {\n      setTried(true);\n    }\n  }, [tried, active]);\n\n  return tried;\n}\n\nexport function useInactiveListener(suppress = false) {\n  const { active, error, activate } = useWeb3React();\n\n  useEffect(() => {\n    const { ethereum } = window;\n    if (ethereum && ethereum.on && !active && !error && !suppress) {\n      const handleConnect = () => {\n        console.log(\"Handling 'connect' event\");\n        activate(injected);\n      };\n      const handleChainChanged = (chainId) => {\n        console.log(\"Handling 'chainChanged' event with payload\", chainId);\n        activate(injected);\n      };\n      const handleAccountsChanged = (accounts) => {\n        console.log(\"Handling 'accountsChanged' event with payload\", accounts);\n        if (accounts.length > 0) {\n          activate(injected);\n        }\n      };\n      const handleNetworkChanged = (networkId) => {\n        console.log(\"Handling 'networkChanged' event with payload\", networkId);\n        activate(injected);\n      };\n\n      ethereum.on(\"connect\", handleConnect);\n      ethereum.on(\"chainChanged\", handleChainChanged);\n      ethereum.on(\"accountsChanged\", handleAccountsChanged);\n      ethereum.on(\"networkChanged\", handleNetworkChanged);\n\n      return () => {\n        if (ethereum.removeListener) {\n          ethereum.removeListener(\"connect\", handleConnect);\n          ethereum.removeListener(\"chainChanged\", handleChainChanged);\n          ethereum.removeListener(\"accountsChanged\", handleAccountsChanged);\n          ethereum.removeListener(\"networkChanged\", handleNetworkChanged);\n        }\n      };\n    }\n  }, [active, error, suppress, activate]);\n}\n"],"sourceRoot":""}